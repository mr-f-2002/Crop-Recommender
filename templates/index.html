<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Recommendation System</title>
    <link rel="stylesheet" href="styles.css">
    <style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(to right, #fffef9, #FFFDF6);
    color: #333;
}

.container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 60px 20px;
    flex-wrap: wrap;
}

.left-column {
    width: 35%;
    padding: 30px;
    color: #fff;
}

.right-column {
    width: 45%;
    padding: 30px;
    border-radius: 16px;
    background: #ddeb9d00;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.077);
    backdrop-filter: blur(12px);
    color: #fff;
}

.right-column form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.right-column form label {
    font-weight: 600;
    font-size: 1rem;
}

.right-column form input,
.right-column form button {
    padding: 12px;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: #FAF6E9;
    color: #000000;
}
input::placeholder {
    color: #A0C878; /* or any color you want */
    opacity: 1;  /* optional, sets transparency (1 = fully opaque) */
    font-style: italic; /* optional */
}

.right-column form button {
    background-color: #A0C878;
    color: white;
    cursor: pointer;
    border: none;
    transition: background-color 0.3s ease;
    font-weight: 600;
}

.right-column form button:hover {
    background-color: #8eb16c;
}
.right-column p{
    font-size: 1em;
    color: #687969;
    text-align: center;
    margin-top: 0;
    margin-bottom: 30px;
}
h2 {
    font-size: 2.8em;
    margin-bottom: 20px;
    color: #A0C878;
}
h5 {
    font-size: 2em;
    color: #A0C878;
    padding: 0;
    margin: 0;
    text-align: center;
}
p {
    font-size: 1.2em;
    color: #003403;
}

/* Modal styling */
.modal {
    display: none; /* Hidden by default */
    position: fixed;
    z-index: 999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(5px);
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: white;
    padding: 30px 40px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
    animation: pop-in 0.3s ease-out;
}

.modal-content h2 {
    font-size: 2em;
    margin-bottom: 20px;
}

.modal-content img {
    width: 150px;
    height: auto;
    border-radius: 10px;
    margin-bottom: 15px;
}

.modal-content h3 {
    font-size: 1.8em;
    text-transform: uppercase;
    margin-bottom: 20px;
    color: #2e8b57;
}

.modal-content button {
    padding: 10px 20px;
    background-color: #2e8b57;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
}

.modal-content button:hover {
    background-color: #246f47;
}

@keyframes pop-in {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}


    </style>
</head>
<body>

    <div class="container">
    <!-- Left Column -->
    <div class="left-column">
        <h2>Find Your Crop</h2>
        <p>
            Welcome to our intelligent Crop Recommendation System built for farmers and researchers in Bangladesh. 
            Our model helps you identify the most suitable crop based on your local weather and soil conditions. 
            Simply fill out the form on the right with your environmental data — such as temperature, humidity, rainfall, 
            and basic soil nutrient levels — and get instant, smart crop suggestions powered by machine learning.
        </p>
        <p style="margin-top: 10px;">
            This tool aims to support informed farming decisions, increase productivity, and optimize land use with 
            data-driven insights.
        </p>
    </div>

    <!-- Right Column -->
    <div class="right-column">
        <h5>Crop Recommendation Form</h5>
        <p>Fill in the details below to get crop recommendation</p>
        <form id="cropForm" action="/predict" method="post">
            <!-- <label for="nitrogen">Nitrogen Level (N)</label> -->
            <input type="number" placeholder="Nitrogen Level" name="N" id="nitrogen" required>

            <!-- <label for="phosphorus">Phosphorus Level (P)</label> -->
            <input type="number" placeholder="Phosphorus Level" name="P" id="phosphorus" required>

            <!-- <label for="potassium">Potassium Level (K)</label> -->
            <input type="number" placeholder="Potassium Level" name="K" id="potassium" required>

            <!-- <label for="temperature">Temperature (°C)</label> -->
            <input type="number" placeholder="Temperature (°C)" step="0.1" name="temperature" id="temperature" required>

            <!-- <label for="humidity">Humidity (%)</label> -->
            <input type="number" placeholder="Humidity (%)" step="0.1" name="humidity" id="humidity" required>

            <!-- <label for="ph">pH Level</label> -->
            <input type="number" placeholder="pH Level" step="0.1" name="ph" id="ph" required>

            <!-- <label for="rainfall">Rainfall (mm)</label> -->
            <input type="number" placeholder="Rainfall (mm)" step="0.1" name="rainfall" id="rainfall" required>

            <button type="submit">Recommend Crop</button>
        </form>
    </div>
</div>
<div id="resultModal" class="modal">
    <div class="modal-content">
        <h2>Recommended Crop</h2>
        <img id="cropImage" src="" alt="Crop Image" style="max-width: 100%; height: auto; margin: 15px 0;">
        <p id="cropName" style="font-size: 24px; font-weight: bold;"></p>
        <button onclick="closeModal()">OK</button>
    </div>
</div>


</body>

<script>
document.getElementById('cropForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const formData = new FormData(e.target);

    const response = await fetch('/predict', {
        method: 'POST',
        body: formData
    });

    const result = await response.json();

    if (result.crop) {
        showResult(result.crop);
    } else {
        alert("Error: " + result.error);
    }
});

function showResult(crop) {
    const modal = document.getElementById('resultModal');
    const cropName = document.getElementById('cropName');
    const cropImage = document.getElementById('cropImage');

    // Capitalize crop name and set text
    cropName.textContent = crop.toUpperCase();

    // Set image assuming it exists in static/crops/ directory
    cropImage.src = `static/crops/${crop.toLowerCase()}.jpg`;
    cropImage.alt = `${crop} image`;

    // Show modal
    modal.style.display = 'flex';
}

function closeModal() {
    document.getElementById('resultModal').style.display = 'none';
}
</script>

</html>
